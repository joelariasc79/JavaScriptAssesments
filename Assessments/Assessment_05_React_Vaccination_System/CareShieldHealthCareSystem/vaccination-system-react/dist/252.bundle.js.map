{"version":3,"file":"252.bundle.js","mappings":"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","sources":["webpack://vaccination-system-react/./src/store/features/hospitals/hospitalSelectors.js","webpack://vaccination-system-react/./src/pages/Patient/CreateVaccinationOrder/CreatePatientVaccinationOrderPage.css?515a","webpack://vaccination-system-react/./src/pages/Patient/CreateVaccinationOrder/CreatePatientVaccinationOrderPage.js","webpack://vaccination-system-react/./node_modules/css-loader/dist/runtime/getUrl.js","webpack://vaccination-system-react/./src/store/features/vaccinationOrder/vaccinationOrderSelectors.js","webpack://vaccination-system-react/./src/pages/Patient/CreateVaccinationOrder/CreatePatientVaccinationOrderPage.css"],"sourcesContent":["// src/store/features/hospital/hospitalSelectors.js\nimport { createSelector } from '@reduxjs/toolkit';\n\n// Corrected: Access state.hospitals (plural) to match the store configuration\nconst selectHospitalState = (state) => state.hospitals;\n\nexport const selectHospitals = createSelector(\n    selectHospitalState,\n    (hospitalState) => hospitalState.hospitals\n);\n\nexport const selectHospitalsLoading = createSelector(\n    selectHospitalState,\n    (hospitalState) => hospitalState.loading\n);\n\nexport const selectHospitalsError = createSelector(\n    selectHospitalState,\n    (hospitalState) => hospitalState.error\n);","\n      import API from \"!../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../node_modules/css-loader/dist/cjs.js!./CreatePatientVaccinationOrderPage.css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../node_modules/css-loader/dist/cjs.js!./CreatePatientVaccinationOrderPage.css\";\n       export default content && content.locals ? content.locals : undefined;\n","import React, { useState, useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useNavigate } from 'react-router-dom';\nimport Input from '../../../components/common/Input/Input';\nimport Button from '../../../components/common/Button/Button';\nimport Modal from '../../../components/common/Modal/Modal';\nimport { createVaccinationOrder, clearCreateStatus } from '../../../store/features/vaccinationOrder/vaccinationOrderSlice';\nimport { selectCreateOrderStatus, selectCreateOrderError } from '../../../store/features/vaccinationOrder/vaccinationOrderSelectors';\n\nimport { fetchHospitals } from '../../../store/features/hospitals/hospitalSlice';\nimport { selectHospitals, selectHospitalsLoading, selectHospitalsError } from '../../../store/features/hospitals/hospitalSelectors';\n\nimport { fetchAllVaccines, selectAllVaccines, selectFetchVaccinesStatus, selectFetchVaccinesError } from '../../../store/features/vaccines/vaccineSlice';\nimport { selectCurrentUser } from '../../../store/features/auth/authSelectors';\nimport { isPositiveNumber } from '../../../utils/validators';\n\nimport './CreatePatientVaccinationOrderPage.css';\n\nconst CreatePatientVaccinationOrderPage = () => {\n    const dispatch = useDispatch();\n    const navigate = useNavigate();\n\n    const currentUser = useSelector(selectCurrentUser); // Although currentUser is not directly used for hospital selection now, it might be for other features or access control\n    const hospitals = useSelector(selectHospitals);\n    const hospitalsLoading = useSelector(selectHospitalsLoading);\n    const hospitalsError = useSelector(selectHospitalsError);\n\n    const vaccines = useSelector(selectAllVaccines);\n    const vaccinesLoading = useSelector(selectFetchVaccinesStatus) === 'loading';\n    const vaccinesError = useSelector(selectFetchVaccinesError);\n\n    const createOrderStatus = useSelector(selectCreateOrderStatus);\n    const createOrderError = useSelector(selectCreateOrderError);\n\n    const [formData, setFormData] = useState({\n        hospitalId: '',\n        vaccineId: '',\n        dose_number: '',\n        charge_to_be_paid: '',\n    });\n\n    const [formErrors, setFormErrors] = useState({});\n    const [isModalOpen, setIsModalOpen] = useState(false);\n    const [modalContent, setModalContent] = useState({ title: '', message: '' });\n\n    useEffect(() => {\n        dispatch(fetchHospitals()); // CORRECTED: Dispatch fetchHospitals\n        dispatch(fetchAllVaccines());\n    }, [dispatch]);\n\n    // Effect to calculate charge based on selected hospital and vaccine\n    useEffect(() => {\n        if (formData.hospitalId && formData.vaccineId && hospitals.length > 0 && vaccines.length > 0) {\n            const selectedHospital = hospitals.find(h => h._id === formData.hospitalId);\n            const selectedVaccine = vaccines.find(v => v._id === formData.vaccineId);\n\n            if (selectedHospital && selectedVaccine) {\n                const vaccinePrice = selectedVaccine.price || 0;\n                const hospitalCharges = selectedHospital.charges || 0;\n                const calculatedCharge = vaccinePrice + hospitalCharges;\n                setFormData(prevData => ({\n                    ...prevData,\n                    charge_to_be_paid: calculatedCharge.toFixed(2)\n                }));\n            } else {\n                setFormData(prevData => ({\n                    ...prevData,\n                    charge_to_be_paid: ''\n                }));\n            }\n        } else {\n            setFormData(prevData => ({\n                ...prevData,\n                charge_to_be_paid: ''\n            }));\n        }\n    }, [formData.hospitalId, formData.vaccineId, hospitals, vaccines]);\n\n\n    useEffect(() => {\n        if (createOrderStatus === 'succeeded') {\n            setModalContent({\n                title: 'Order Created!',\n                message: 'Your vaccination order has been successfully created. You can now review it in your dashboard.'\n            });\n            setIsModalOpen(true);\n            setFormData({\n                hospitalId: '',\n                vaccineId: '',\n                dose_number: '',\n                charge_to_be_paid: '',\n            }); // Clear form\n            dispatch(clearCreateStatus()); // Clear status after showing success\n        } else if (createOrderStatus === 'failed') {\n            setModalContent({\n                title: 'Order Creation Failed',\n                message: createOrderError || 'An unexpected error occurred. Please try again.'\n            });\n            setIsModalOpen(true);\n            dispatch(clearCreateStatus()); // Clear status after showing error\n        }\n    }, [createOrderStatus, createOrderError, dispatch, navigate]);\n\n    const handleChange = (e) => {\n        const { id, value } = e.target;\n        setFormData(prevData => ({\n            ...prevData,\n            [id]: value\n        }));\n        if (formErrors[id]) {\n            setFormErrors(prevErrors => ({\n                ...prevErrors,\n                [id]: ''\n            }));\n        }\n    };\n\n    const validateForm = () => {\n        const errors = {};\n        if (!formData.hospitalId) errors.hospitalId = 'Hospital is required.';\n        if (!formData.vaccineId) errors.vaccineId = 'Vaccine is required.';\n        // Ensure dose_number is a valid positive integer string before converting\n        if (!formData.dose_number || !/^\\d+$/.test(formData.dose_number) || parseInt(formData.dose_number) <= 0) {\n            errors.dose_number = 'Dose number must be a positive integer.';\n        }\n        // Check if charge_to_be_paid is set (auto-calculated) and is a valid positive number\n        if (!formData.charge_to_be_paid || isNaN(parseFloat(formData.charge_to_be_paid)) || parseFloat(formData.charge_to_be_paid) < 0) {\n            errors.charge_to_be_paid = 'Charge must be a non-negative number and is calculated automatically.';\n        }\n        setFormErrors(errors);\n        return Object.keys(errors).length === 0;\n    };\n\n    const handleSubmit = (e) => {\n        e.preventDefault();\n        if (validateForm()) {\n            const orderData = {\n                userId: currentUser?._id, // Assuming currentUser._id is the patient ID for the order\n                hospitalId: formData.hospitalId,\n                vaccineId: formData.vaccineId,\n                dose_number: Number(formData.dose_number),\n                charge_to_be_paid: Number(formData.charge_to_be_paid),\n            };\n            dispatch(createVaccinationOrder(orderData));\n        }\n    };\n\n    const closeModal = () => {\n        setIsModalOpen(false);\n        if (createOrderStatus === 'succeeded') {\n            navigate('/patient/dashboard');\n        }\n    };\n\n    return (\n        <div className=\"create-order-page-container\">\n            <h2>Create New Vaccination Order</h2>\n            <form onSubmit={handleSubmit} className=\"order-form\">\n                <div className=\"form-group\">\n                    <label htmlFor=\"hospitalId\" className=\"form-label\">Select Hospital <span className=\"required-star\">*</span></label>\n                    {hospitalsLoading ? (\n                        <p>Loading hospitals...</p>\n                    ) : hospitalsError ? (\n                        <p className=\"error-message\">Error loading hospitals: {hospitalsError}</p>\n                    ) : (\n                        <select\n                            id=\"hospitalId\"\n                            value={formData.hospitalId}\n                            onChange={handleChange}\n                            className={`form-select ${formErrors.hospitalId ? 'input-field--error' : ''}`}\n                            required\n                        >\n                            <option value=\"\">-- Select a Hospital --</option>\n                            {hospitals.map(hospital => (\n                                <option key={hospital._id} value={hospital._id}>\n                                    {hospital.name}\n                                </option>\n                            ))}\n                        </select>\n                    )}\n                    {formErrors.hospitalId && <p className=\"input-error-message\">{formErrors.hospitalId}</p>}\n                </div>\n\n                <div className=\"form-group\">\n                    <label htmlFor=\"vaccineId\" className=\"form-label\">Select Vaccine <span className=\"required-star\">*</span></label>\n                    {vaccinesLoading ? (\n                        <p>Loading vaccines...</p>\n                    ) : vaccinesError ? (\n                        <p className=\"error-message\">Error loading vaccines: {vaccinesError}</p>\n                    ) : (\n                        <select\n                            id=\"vaccineId\"\n                            value={formData.vaccineId}\n                            onChange={handleChange}\n                            className={`form-select ${formErrors.vaccineId ? 'input-field--error' : ''}`}\n                            required\n                        >\n                            <option value=\"\">-- Select a Vaccine --</option>\n                            {vaccines.map(vaccine => (\n                                <option key={vaccine._id} value={vaccine._id}>\n                                    {vaccine.name} ({vaccine.type})\n                                </option>\n                            ))}\n                        </select>\n                    )}\n                    {formErrors.vaccineId && <p className=\"input-error-message\">{formErrors.vaccineId}</p>}\n                </div>\n\n                <Input\n                    label=\"Dose Number\"\n                    id=\"dose_number\"\n                    type=\"number\"\n                    value={formData.dose_number}\n                    onChange={handleChange}\n                    placeholder=\"e.g., 1, 2, 3\"\n                    required\n                    error={formErrors.dose_number}\n                    min=\"1\"\n                />\n\n                <Input\n                    label=\"Charge to be Paid (e.g., 50.00)\"\n                    id=\"charge_to_be_paid\"\n                    type=\"number\"\n                    value={formData.charge_to_be_paid}\n                    readOnly // Make this read-only as it's auto-calculated\n                    placeholder=\"Calculated automatically\"\n                    required\n                    error={formErrors.charge_to_be_paid}\n                    min=\"0\"\n                    step=\"0.01\"\n                />\n\n                <Button\n                    type=\"submit\"\n                    variant=\"primary\"\n                    size=\"large\"\n                    disabled={createOrderStatus === 'loading' || hospitalsLoading || vaccinesLoading}\n                >\n                    {createOrderStatus === 'loading' ? 'Creating Order...' : 'Create Vaccination Order'}\n                </Button>\n            </form>\n\n            <Modal\n                isOpen={isModalOpen}\n                onClose={closeModal}\n                title={modalContent.title}\n                footer={<Button onClick={closeModal}>Close</Button>}\n            >\n                <p>{modalContent.message}</p>\n            </Modal>\n        </div>\n    );\n};\n\nexport default CreatePatientVaccinationOrderPage;","\"use strict\";\n\nmodule.exports = function (url, options) {\n  if (!options) {\n    options = {};\n  }\n  if (!url) {\n    return url;\n  }\n  url = String(url.__esModule ? url.default : url);\n\n  // If url is already wrapped in quotes, remove them\n  if (/^['\"].*['\"]$/.test(url)) {\n    url = url.slice(1, -1);\n  }\n  if (options.hash) {\n    url += options.hash;\n  }\n\n  // Should url be wrapped?\n  // See https://drafts.csswg.org/css-values-3/#urls\n  if (/[\"'() \\t\\n]|(%20)/.test(url) || options.needQuotes) {\n    return \"\\\"\".concat(url.replace(/\"/g, '\\\\\"').replace(/\\n/g, \"\\\\n\"), \"\\\"\");\n  }\n  return url;\n};","// src/store/features/vaccinationOrder/vaccinationOrderSelectors.js\nimport { createSelector } from '@reduxjs/toolkit';\n\nconst selectVaccinationOrderState = (state) => state.vaccinationOrder;\n\nexport const selectCreateOrderStatus = createSelector(\n    selectVaccinationOrderState,\n    (orderState) => orderState.createStatus\n);\n\nexport const selectCreateOrderError = createSelector(\n    selectVaccinationOrderState,\n    (orderState) => orderState.createError\n);\n\nexport const selectPatientOrders = createSelector(\n    selectVaccinationOrderState,\n    (orderState) => orderState.patientOrders\n);\n\nexport const selectFetchPatientOrdersStatus = createSelector(\n    selectVaccinationOrderState,\n    (orderState) => orderState.fetchPatientOrdersStatus\n);\n\nexport const selectFetchPatientOrdersError = createSelector(\n    selectVaccinationOrderState,\n    (orderState) => orderState.fetchPatientOrdersError\n);\n\n// NEW Selectors for action statuses\nexport const selectMarkVaccinatedStatus = createSelector(\n    selectVaccinationOrderState,\n    (orderState) => orderState.markVaccinatedStatus\n);\n\nexport const selectMarkVaccinatedError = createSelector(\n    selectVaccinationOrderState,\n    (orderState) => orderState.markVaccinatedError\n);\n\nexport const selectMarkPaidStatus = createSelector(\n    selectVaccinationOrderState,\n    (orderState) => orderState.markPaidStatus\n);\n\nexport const selectMarkPaidError = createSelector(\n    selectVaccinationOrderState,\n    (orderState) => orderState.markPaidError\n);\n\nexport const selectScheduleAppointmentStatus = createSelector(\n    selectVaccinationOrderState,\n    (orderState) => orderState.scheduleAppointmentStatus\n);\n\nexport const selectScheduleAppointmentError = createSelector(\n    selectVaccinationOrderState,\n    (orderState) => orderState.scheduleAppointmentError\n);\n\nexport const selectCancelOrderStatus = createSelector(\n    selectVaccinationOrderState,\n    (orderState) => orderState.cancelOrderStatus\n);\n\nexport const selectCancelOrderError = createSelector(\n    selectVaccinationOrderState,\n    (orderState) => orderState.cancelOrderError\n);\n\n// NEW Selectors for vaccinated persons by hospital\nexport const selectVaccinatedPersons = createSelector(\n    selectVaccinationOrderState,\n    (orderState) => orderState.vaccinatedPersons\n);\n\nexport const selectFetchVaccinatedPersonsStatus = createSelector(\n    selectVaccinationOrderState,\n    (orderState) => orderState.fetchVaccinatedPersonsStatus\n);\n\nexport const selectFetchVaccinatedPersonsError = createSelector(\n    selectVaccinationOrderState,\n    (orderState) => orderState.fetchVaccinatedPersonsError\n);\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/api.js\";\nimport ___CSS_LOADER_GET_URL_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/getUrl.js\";\nvar ___CSS_LOADER_URL_IMPORT_0___ = new URL(\"data:image/svg+xml;charset=US-ASCII,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%22292.4%22%20height%3D%22292.4%22%3E%3Cpath%20fill%3D%22%23666666%22%20d%3D%22M287%2C197.3L159.2%2C69.5c-3.2-3.2-8.3-3.2-11.5%2C0L5.4%2C197.3c-3.2%2C3.2-3.2%2C8.3%2C0%2C11.5l11.5%2C11.5c3.2%2C3.2%2C8.3%2C3.2%2C11.5%2C0l120.3-120.3l120.3%2C120.3c3.2%2C3.2%2C8.3%2C3.2%2C11.5%2C0l11.5-11.5C290.2%2C205.6%2C290.2%2C200.5%2C287%2C197.3z%22%2F%3E%3C%2Fsvg%3E\", import.meta.url);\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\nvar ___CSS_LOADER_URL_REPLACEMENT_0___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_0___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `/* src/pages/Patient/CreateVaccinationOrder/CreatePatientVaccinationOrderPage.css */\n\n.create-order-page-container {\n    max-width: 600px;\n    margin: var(--spacing-xl) auto;\n    padding: var(--spacing-lg);\n    background-color: var(--color-white);\n    border-radius: var(--border-radius-medium);\n    box-shadow: var(--shadow-medium);\n    font-family: var(--font-family-primary), sans-serif; /* Added sans-serif as a generic fallback */\n    color: var(--color-text-primary);\n}\n\n.create-order-page-container h2 {\n    text-align: center;\n    color: var(--color-primary-dark);\n    margin-bottom: var(--spacing-xl);\n    font-size: var(--font-size-h3);\n}\n\n.order-form .form-group {\n    margin-bottom: var(--spacing-md);\n}\n\n.order-form .form-label {\n    display: block;\n    margin-bottom: var(--spacing-xs);\n    font-weight: bold;\n    color: var(--color-text-secondary);\n    font-size: var(--font-size-base);\n}\n\n.order-form .form-select {\n    width: 100%;\n    padding: var(--spacing-sm);\n    border: 1px solid var(--color-medium-gray);\n    border-radius: var(--border-radius-small);\n    font-size: var(--font-size-base);\n    box-sizing: border-box; /* Ensures padding doesn't increase total width */\n    -webkit-appearance: none; /* Remove default browser styling for selects */\n    -moz-appearance: none;\n    appearance: none;\n    background-color: var(--color-white);\n    background-image: url(${___CSS_LOADER_URL_REPLACEMENT_0___}); /* Custom arrow */\n    background-repeat: no-repeat;\n    background-position: right 0.7em top 50%;\n    background-size: 0.65em auto;\n}\n\n.order-form .form-select:focus {\n    border-color: var(--color-secondary);\n    outline: none;\n    box-shadow: 0 0 0 2px rgba(var(--color-secondary-rgb), 0.2);\n}\n\n.order-form .input-field--error {\n    border-color: var(--color-error);\n}\n\n.order-form .input-error-message {\n    color: var(--color-error);\n    font-size: var(--font-size-small);\n    margin-top: var(--spacing-xxs);\n}\n\n.order-form .required-star {\n    color: var(--color-error);\n    margin-left: var(--spacing-xxs);\n}\n\n.order-form button[type=\"submit\"] {\n    width: 100%;\n    padding: var(--spacing-md);\n    font-size: var(--font-size-large);\n    margin-top: var(--spacing-lg);\n}\n\n.error-message {\n    color: var(--color-error);\n    font-size: var(--font-size-small);\n    text-align: center;\n    margin-top: var(--spacing-md);\n}\n\n/* Modal specific styles for this page if needed, otherwise Modal.css handles it */\n/* Example: Adjust modal content width */\n.modal-content.create-order-modal {\n    max-width: 400px;\n}\n`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/pages/Patient/CreateVaccinationOrder/CreatePatientVaccinationOrderPage.css\"],\"names\":[],\"mappings\":\"AAAA,mFAAmF;;AAEnF;IACI,gBAAgB;IAChB,8BAA8B;IAC9B,0BAA0B;IAC1B,oCAAoC;IACpC,0CAA0C;IAC1C,gCAAgC;IAChC,mDAAmD,EAAE,2CAA2C;IAChG,gCAAgC;AACpC;;AAEA;IACI,kBAAkB;IAClB,gCAAgC;IAChC,gCAAgC;IAChC,8BAA8B;AAClC;;AAEA;IACI,gCAAgC;AACpC;;AAEA;IACI,cAAc;IACd,gCAAgC;IAChC,iBAAiB;IACjB,kCAAkC;IAClC,gCAAgC;AACpC;;AAEA;IACI,WAAW;IACX,0BAA0B;IAC1B,0CAA0C;IAC1C,yCAAyC;IACzC,gCAAgC;IAChC,sBAAsB,EAAE,iDAAiD;IACzE,wBAAwB,EAAE,+CAA+C;IACzE,qBAAqB;IACrB,gBAAgB;IAChB,oCAAoC;IACpC,yDAAqe,EAAE,iBAAiB;IACxf,4BAA4B;IAC5B,wCAAwC;IACxC,4BAA4B;AAChC;;AAEA;IACI,oCAAoC;IACpC,aAAa;IACb,2DAA2D;AAC/D;;AAEA;IACI,gCAAgC;AACpC;;AAEA;IACI,yBAAyB;IACzB,iCAAiC;IACjC,8BAA8B;AAClC;;AAEA;IACI,yBAAyB;IACzB,+BAA+B;AACnC;;AAEA;IACI,WAAW;IACX,0BAA0B;IAC1B,iCAAiC;IACjC,6BAA6B;AACjC;;AAEA;IACI,yBAAyB;IACzB,iCAAiC;IACjC,kBAAkB;IAClB,6BAA6B;AACjC;;AAEA,kFAAkF;AAClF,wCAAwC;AACxC;IACI,gBAAgB;AACpB\",\"sourcesContent\":[\"/* src/pages/Patient/CreateVaccinationOrder/CreatePatientVaccinationOrderPage.css */\\n\\n.create-order-page-container {\\n    max-width: 600px;\\n    margin: var(--spacing-xl) auto;\\n    padding: var(--spacing-lg);\\n    background-color: var(--color-white);\\n    border-radius: var(--border-radius-medium);\\n    box-shadow: var(--shadow-medium);\\n    font-family: var(--font-family-primary), sans-serif; /* Added sans-serif as a generic fallback */\\n    color: var(--color-text-primary);\\n}\\n\\n.create-order-page-container h2 {\\n    text-align: center;\\n    color: var(--color-primary-dark);\\n    margin-bottom: var(--spacing-xl);\\n    font-size: var(--font-size-h3);\\n}\\n\\n.order-form .form-group {\\n    margin-bottom: var(--spacing-md);\\n}\\n\\n.order-form .form-label {\\n    display: block;\\n    margin-bottom: var(--spacing-xs);\\n    font-weight: bold;\\n    color: var(--color-text-secondary);\\n    font-size: var(--font-size-base);\\n}\\n\\n.order-form .form-select {\\n    width: 100%;\\n    padding: var(--spacing-sm);\\n    border: 1px solid var(--color-medium-gray);\\n    border-radius: var(--border-radius-small);\\n    font-size: var(--font-size-base);\\n    box-sizing: border-box; /* Ensures padding doesn't increase total width */\\n    -webkit-appearance: none; /* Remove default browser styling for selects */\\n    -moz-appearance: none;\\n    appearance: none;\\n    background-color: var(--color-white);\\n    background-image: url('data:image/svg+xml;charset=US-ASCII,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%22292.4%22%20height%3D%22292.4%22%3E%3Cpath%20fill%3D%22%23666666%22%20d%3D%22M287%2C197.3L159.2%2C69.5c-3.2-3.2-8.3-3.2-11.5%2C0L5.4%2C197.3c-3.2%2C3.2-3.2%2C8.3%2C0%2C11.5l11.5%2C11.5c3.2%2C3.2%2C8.3%2C3.2%2C11.5%2C0l120.3-120.3l120.3%2C120.3c3.2%2C3.2%2C8.3%2C3.2%2C11.5%2C0l11.5-11.5C290.2%2C205.6%2C290.2%2C200.5%2C287%2C197.3z%22%2F%3E%3C%2Fsvg%3E'); /* Custom arrow */\\n    background-repeat: no-repeat;\\n    background-position: right 0.7em top 50%;\\n    background-size: 0.65em auto;\\n}\\n\\n.order-form .form-select:focus {\\n    border-color: var(--color-secondary);\\n    outline: none;\\n    box-shadow: 0 0 0 2px rgba(var(--color-secondary-rgb), 0.2);\\n}\\n\\n.order-form .input-field--error {\\n    border-color: var(--color-error);\\n}\\n\\n.order-form .input-error-message {\\n    color: var(--color-error);\\n    font-size: var(--font-size-small);\\n    margin-top: var(--spacing-xxs);\\n}\\n\\n.order-form .required-star {\\n    color: var(--color-error);\\n    margin-left: var(--spacing-xxs);\\n}\\n\\n.order-form button[type=\\\"submit\\\"] {\\n    width: 100%;\\n    padding: var(--spacing-md);\\n    font-size: var(--font-size-large);\\n    margin-top: var(--spacing-lg);\\n}\\n\\n.error-message {\\n    color: var(--color-error);\\n    font-size: var(--font-size-small);\\n    text-align: center;\\n    margin-top: var(--spacing-md);\\n}\\n\\n/* Modal specific styles for this page if needed, otherwise Modal.css handles it */\\n/* Example: Adjust modal content width */\\n.modal-content.create-order-modal {\\n    max-width: 400px;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n"],"names":["selectHospitalState","state","hospitals","selectHospitals","createSelector","hospitalState","selectHospitalsLoading","loading","selectHospitalsError","error","options","styleTagTransform","setAttributes","insert","domAPI","insertStyleElement","locals","dispatch","useDispatch","navigate","useNavigate","currentUser","useSelector","selectCurrentUser","hospitalsLoading","hospitalsError","vaccines","selectAllVaccines","vaccinesLoading","selectFetchVaccinesStatus","vaccinesError","selectFetchVaccinesError","createOrderStatus","selectCreateOrderStatus","createOrderError","selectCreateOrderError","_useState2","_slicedToArray","useState","hospitalId","vaccineId","dose_number","charge_to_be_paid","formData","setFormData","_useState4","formErrors","setFormErrors","_useState6","isModalOpen","setIsModalOpen","_useState8","title","message","modalContent","setModalContent","useEffect","fetchHospitals","fetchAllVaccines","length","selectedHospital","find","h","_id","selectedVaccine","v","calculatedCharge","price","charges","prevData","_objectSpread","toFixed","clearCreateStatus","handleChange","e","_e$target","target","id","value","_defineProperty","prevErrors","closeModal","React","className","onSubmit","preventDefault","errors","test","parseInt","isNaN","parseFloat","Object","keys","orderData","userId","Number","createVaccinationOrder","htmlFor","onChange","concat","required","map","hospital","key","name","vaccine","type","Input","label","placeholder","min","readOnly","step","Button","variant","size","disabled","Modal","isOpen","onClose","footer","onClick","module","exports","url","String","__esModule","default","slice","hash","needQuotes","replace","selectVaccinationOrderState","vaccinationOrder","orderState","createStatus","createError","selectPatientOrders","patientOrders","selectFetchPatientOrdersStatus","fetchPatientOrdersStatus","selectFetchPatientOrdersError","fetchPatientOrdersError","selectMarkVaccinatedStatus","markVaccinatedStatus","selectMarkVaccinatedError","markVaccinatedError","selectMarkPaidStatus","markPaidStatus","selectMarkPaidError","markPaidError","selectScheduleAppointmentStatus","scheduleAppointmentStatus","selectScheduleAppointmentError","scheduleAppointmentError","selectCancelOrderStatus","cancelOrderStatus","selectCancelOrderError","cancelOrderError","selectVaccinatedPersons","vaccinatedPersons","selectFetchVaccinatedPersonsStatus","fetchVaccinatedPersonsStatus","selectFetchVaccinatedPersonsError","fetchVaccinatedPersonsError","___CSS_LOADER_URL_IMPORT_0___","URL","___CSS_LOADER_EXPORT___","___CSS_LOADER_URL_REPLACEMENT_0___","push"],"sourceRoot":""}