{"version":3,"file":"828.bundle.js","mappings":"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","sources":["webpack://vaccination-system-react/./src/store/features/vaccineStock/vaccineStockSelectors.js","webpack://vaccination-system-react/./src/pages/Hospital/VaccinesStock/VaccinesStockPage.css?bac4","webpack://vaccination-system-react/./src/pages/Hospital/VaccinesStock/VaccinesStockPage.js","webpack://vaccination-system-react/./node_modules/css-loader/dist/runtime/getUrl.js","webpack://vaccination-system-react/./src/store/features/vaccines/vaccineSelectors.js","webpack://vaccination-system-react/./src/pages/Hospital/VaccinesStock/VaccinesStockPage.css"],"sourcesContent":["// src/store/features/vaccineStock/vaccineStockSelectors.js\nimport { createSelector } from '@reduxjs/toolkit';\n\nconst selectVaccineStockState = (state) => state.vaccineStock;\n\nexport const selectCurrentStock = createSelector(\n    selectVaccineStockState,\n    (stockState) => stockState.currentStock\n);\n\nexport const selectLoadingStock = createSelector(\n    selectVaccineStockState,\n    (stockState) => stockState.loadingStock\n);\n\nexport const selectErrorStock = createSelector(\n    selectVaccineStockState,\n    (stockState) => stockState.errorStock\n);\n\nexport const selectUpdateStockStatus = createSelector(\n    selectVaccineStockState,\n    (stockState) => stockState.updateStatus\n);\n\nexport const selectUpdateStockError = createSelector(\n    selectVaccineStockState,\n    (stockState) => stockState.updateError\n);\n\n// NEW: Selectors for create operation status and error\nexport const selectCreateStockStatus = createSelector(\n    selectVaccineStockState,\n    (stockState) => stockState.createStatus\n);\n\nexport const selectCreateStockError = createSelector(\n    selectVaccineStockState,\n    (stockState) => stockState.createError\n);","\n      import API from \"!../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../node_modules/css-loader/dist/cjs.js!./VaccinesStockPage.css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../node_modules/css-loader/dist/cjs.js!./VaccinesStockPage.css\";\n       export default content && content.locals ? content.locals : undefined;\n","// src/pages/Hospital/VaccinesStock.js\nimport React, { useState, useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport {\n    fetchVaccineStock,\n    updateVaccineStock, // This is for PATCH\n    createVaccineStock, // This is for POST\n    clearStockStatus,\n    clearCurrentStock\n} from '../../../store/features/vaccineStock/vaccineStockSlice';\nimport {\n    selectCurrentStock,\n    selectLoadingStock,\n    selectErrorStock,\n    selectUpdateStockStatus,\n    selectUpdateStockError,\n    selectCreateStockStatus, // NEW: Selector for create status\n    selectCreateStockError   // NEW: Selector for create error\n} from '../../../store/features/vaccineStock/vaccineStockSelectors';\nimport { selectCurrentUser } from '../../../store/features/auth/authSelectors';\nimport { fetchUserProfile } from '../../../store/features/auth/authSlice';\n\nimport { fetchAllVaccines } from '../../../store/features/vaccines/vaccineSlice';\nimport { selectAllVaccines } from '../../../store/features/vaccines/vaccineSelectors';\n\nimport Input from '../../../components/common/Input/Input';\nimport Button from '../../../components/common/Button/Button';\nimport './VaccinesStockPage.css';\n\nconst VaccinesStockPage = () => {\n    const dispatch = useDispatch();\n\n    const currentUser = useSelector(selectCurrentUser);\n    const allVaccines = useSelector(selectAllVaccines);\n    const currentStock = useSelector(selectCurrentStock); // This will be null if record doesn't exist (quantity 0)\n    const loadingStock = useSelector(selectLoadingStock);\n    const errorStock = useSelector(selectErrorStock);\n\n    const updateStatus = useSelector(selectUpdateStockStatus); // Status for PATCH\n    const updateError = useSelector(selectUpdateStockError);\n\n    const createStatus = useSelector(selectCreateStockStatus); // NEW: Status for POST\n    const createError = useSelector(selectCreateStockError);   // NEW: Error for POST\n\n\n    const [selectedVaccineId, setSelectedVaccineId] = useState('');\n    const [proposedStock, setProposedStock] = useState(20);\n    const [pageError, setPageError] = useState('');\n\n    const hospitalId = currentUser?.hospital?._id;\n\n    // 1. Fetch user profile to ensure hospital data is available\n    useEffect(() => {\n        if (currentUser && currentUser.userId && !currentUser.hospital) {\n            dispatch(fetchUserProfile(currentUser.userId));\n        }\n    }, [dispatch, currentUser]);\n\n    // 2. Fetch all vaccines when component mounts\n    useEffect(() => {\n        dispatch(fetchAllVaccines());\n    }, [dispatch]);\n\n    // 3. Fetch vaccine stock when hospitalId or selectedVaccineId changes\n    useEffect(() => {\n        if (hospitalId && selectedVaccineId) {\n            dispatch(fetchVaccineStock({ hospitalId, vaccineId: selectedVaccineId }));\n        } else {\n            dispatch(clearCurrentStock());\n            setProposedStock(20); // Reset proposed stock to 20 when no vaccine is selected\n        }\n    }, [dispatch, hospitalId, selectedVaccineId]);\n\n    // UPDATED useEffect for initializing proposedStock with currentStock or default 20\n    useEffect(() => {\n        if (loadingStock || errorStock) {\n            return;\n        }\n\n        if (selectedVaccineId) {\n            if (currentStock !== null && currentStock !== undefined) {\n                // If currentStock exists and its quantity is less than 20, propose 20.\n                // Otherwise, propose the current quantity.\n                if (currentStock.quantity < 20) {\n                    setProposedStock(20);\n                } else {\n                    setProposedStock(currentStock.quantity);\n                }\n            } else {\n                // If selected but currentStock is null/undefined (meaning record not found, quantity 0), default to 20\n                setProposedStock(20);\n            }\n        } else {\n            // No vaccine selected, default proposed stock to 20\n            setProposedStock(20);\n        }\n    }, [currentStock, selectedVaccineId, loadingStock, errorStock]);\n\n\n    // Handle update/create success/failure\n    useEffect(() => {\n        if (updateStatus === 'succeeded' || createStatus === 'succeeded') {\n            alert('Vaccine stock operation completed successfully!');\n            setPageError('');\n            dispatch(clearStockStatus()); // Clears both update and create statuses\n            // Re-fetch stock to show updated quantity\n            if (hospitalId && selectedVaccineId) {\n                dispatch(fetchVaccineStock({ hospitalId, vaccineId: selectedVaccineId }));\n            }\n        } else if (updateStatus === 'failed') {\n            setPageError(updateError || 'Failed to update vaccine stock.');\n            dispatch(clearStockStatus());\n        } else if (createStatus === 'failed') {\n            setPageError(createError || 'Failed to create vaccine stock record.');\n            dispatch(clearStockStatus());\n        }\n    }, [updateStatus, updateError, createStatus, createError, dispatch, hospitalId, selectedVaccineId]);\n\n    const handleUpdateStock = (e) => {\n        e.preventDefault();\n        setPageError('');\n\n        if (!hospitalId) {\n            setPageError('User is not associated with a hospital or hospital data is missing.');\n            return;\n        }\n        if (!selectedVaccineId) {\n            setPageError('Please select a vaccine.');\n            return;\n        }\n        const parsedProposedStock = parseInt(proposedStock);\n        if (isNaN(parsedProposedStock) || parsedProposedStock < 0) {\n            setPageError('Proposed Stock must be a non-negative number.');\n            return;\n        }\n\n        const currentQty = currentStock?.quantity || 0; // Will be 0 if currentStock is null/undefined\n\n        // Determine if we need to CREATE or UPDATE\n        if (currentStock === null || currentStock === undefined) {\n            // Record does not exist, so CREATE it\n            if (parsedProposedStock === 0) {\n                setPageError('Cannot create a new stock record with a proposed quantity of 0.');\n                return;\n            }\n            dispatch(createVaccineStock({\n                hospitalId,\n                vaccineId: selectedVaccineId,\n                initialQuantity: parsedProposedStock, // Send proposed stock as initial quantity\n            }));\n        } else {\n            // Record exists, so UPDATE it\n            const changeQty = parsedProposedStock - currentQty;\n\n            if (changeQty === 0) {\n                setPageError('Proposed stock is the same as current stock. No update needed.');\n                return;\n            }\n\n            const resultingQuantity = currentQty + changeQty;\n\n            if (resultingQuantity < 0) {\n                setPageError('Stock cannot be negative. Please enter a valid proposed quantity.');\n                return;\n            }\n\n            dispatch(updateVaccineStock({\n                hospitalId,\n                vaccineId: selectedVaccineId,\n                changeQty: changeQty, // Send the difference to add/subtract\n            }));\n        }\n    };\n\n    // Calculate changeQty for display\n    const displayCurrentQty = currentStock?.quantity || 0;\n    const displayProposedQty = proposedStock === '' ? 0 : parseInt(proposedStock);\n    const displayChangeQty = displayProposedQty - displayCurrentQty;\n    const isChangeQtyNegative = displayChangeQty < 0;\n\n    // Determine overall loading state for the button\n    const isSubmitting = updateStatus === 'loading' || createStatus === 'loading';\n\n    if (loadingStock && !currentStock && selectedVaccineId && hospitalId) {\n        return (\n            <div className=\"update-vaccine-stock-container\">\n                <p>Loading vaccine stock information...</p>\n            </div>\n        );\n    }\n\n    if (!currentUser || !hospitalId) {\n        return (\n            <div className=\"update-vaccine-stock-container\">\n                <p className=\"error-message\">You are not assigned to a hospital or user data is incomplete. Please contact an administrator.</p>\n            </div>\n        );\n    }\n\n    return (\n        <div className=\"update-vaccine-stock-container\">\n            <h2>Vaccines Stock</h2>\n            <p>Hospital: <strong>{currentUser.hospital?.name || 'Loading...'}</strong></p>\n\n            <form onSubmit={handleUpdateStock} className=\"update-stock-form\">\n                <div className=\"form-group\">\n                    <label htmlFor=\"vaccineSelect\">Select Vaccine:</label>\n                    <select\n                        id=\"vaccineSelect\"\n                        value={selectedVaccineId}\n                        onChange={(e) => setSelectedVaccineId(e.target.value)}\n                        required\n                        className=\"select-box\"\n                    >\n                        <option value=\"\">-- Select a Vaccine --</option>\n                        {allVaccines.map((vaccine) => (\n                            <option key={vaccine._id} value={vaccine._id}>\n                                {vaccine.name} ({vaccine.manufacturer})\n                            </option>\n                        ))}\n                    </select>\n                </div>\n\n                {selectedVaccineId && (loadingStock || errorStock) ? (\n                    loadingStock ? (\n                        <p>Loading vaccine stock...</p>\n                    ) : (\n                        <p className=\"error-message\">Error loading stock: {errorStock}</p>\n                    )\n                ) : (\n                    <>\n                        <Input\n                            label=\"Current Quantity\"\n                            id=\"currentQuantity\"\n                            type=\"number\"\n                            value={displayCurrentQty}\n                            readOnly\n                            disabled\n                            className=\"read-only-input\"\n                        />\n                        <Input\n                            label=\"Proposed Stock Quantity\"\n                            id=\"proposedStock\"\n                            type=\"number\"\n                            value={proposedStock}\n                            onChange={(e) => setProposedStock(e.target.value)}\n                            placeholder=\"Enter proposed stock\"\n                            required\n                            min=\"0\"\n                        />\n                        <div className=\"form-group\">\n                            <label htmlFor=\"changeQuantity\">Change Quantity:</label>\n                            <Input\n                                id=\"changeQuantity\"\n                                type=\"text\"\n                                value={displayChangeQty}\n                                readOnly\n                                disabled\n                                className={`read-only-input ${isChangeQtyNegative ? 'negative-change' : ''}`}\n                            />\n                        </div>\n                    </>\n                )}\n\n                {pageError && <p className=\"form-error-message\">{pageError}</p>}\n                {isSubmitting && <p>Processing stock update...</p>} {/* Consolidated loading message */}\n\n                <Button type=\"submit\" variant=\"primary\" disabled={isSubmitting || !selectedVaccineId}>\n                    {isSubmitting ? 'Processing...' : 'Save Stock'}\n                </Button>\n            </form>\n        </div>\n    );\n};\n\nexport default VaccinesStockPage;","\"use strict\";\n\nmodule.exports = function (url, options) {\n  if (!options) {\n    options = {};\n  }\n  if (!url) {\n    return url;\n  }\n  url = String(url.__esModule ? url.default : url);\n\n  // If url is already wrapped in quotes, remove them\n  if (/^['\"].*['\"]$/.test(url)) {\n    url = url.slice(1, -1);\n  }\n  if (options.hash) {\n    url += options.hash;\n  }\n\n  // Should url be wrapped?\n  // See https://drafts.csswg.org/css-values-3/#urls\n  if (/[\"'() \\t\\n]|(%20)/.test(url) || options.needQuotes) {\n    return \"\\\"\".concat(url.replace(/\"/g, '\\\\\"').replace(/\\n/g, \"\\\\n\"), \"\\\"\");\n  }\n  return url;\n};","import { createSelector } from '@reduxjs/toolkit';\n\nconst selectVaccineState = (state) => state.vaccines; // Assuming 'vaccine' is the correct key in your root reducer\n\nexport const selectRegistrationStatus = createSelector(\n    selectVaccineState,\n    (vaccineState) => vaccineState.registrationStatus\n);\n\nexport const selectRegistrationError = createSelector(\n    selectVaccineState,\n    (vaccineState) => vaccineState.registrationError\n);\n\nexport const selectAllVaccines = createSelector(\n    selectVaccineState,\n    (vaccineState) => vaccineState.vaccines\n);\n\n\nexport const selectFetchVaccinesStatus = createSelector( // Corrected name\n    selectVaccineState,\n    (vaccineState) => vaccineState.fetchStatus\n);\n\nexport const selectFetchVaccinesError = createSelector( // Corrected name\n    selectVaccineState,\n    (vaccineState) => vaccineState.fetchError\n);","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/api.js\";\nimport ___CSS_LOADER_GET_URL_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/getUrl.js\";\nvar ___CSS_LOADER_URL_IMPORT_0___ = new URL(\"data:image/svg+xml;charset=US-ASCII,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%22292.4%22%20height%3D%22292.4%22%3E%3Cpath%20fill%3D%22%23000%22%20d%3D%22M287%2C197.3L159.9%2C69.8c-4.8-4.8-12.5-4.8-17.3%2C0L5.4%2C197.3c-4.8%2C4.8-4.8%2C12.5%2C0%2C17.3s12.5%2C4.8%2C17.3%2C0l130.8-130.8c4.8-4.8%2C12.5-4.8%2C17.3%2C0l130.8%2C130.8c4.8%2C4.8%2C12.5%2C4.8%2C17.3%2C0S291.8%2C202.1%2C287%2C197.3z%22%2F%3E%3C%2Fsvg%3E\", import.meta.url);\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\nvar ___CSS_LOADER_URL_REPLACEMENT_0___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_0___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `/* src/pages/Hospital/VaccinesStock.css */\n.update-vaccine-stock-container {\n    padding: 30px;\n    max-width: 600px;\n    margin: 40px auto;\n    background-color: #ffffff;\n    border-radius: 10px;\n    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);\n    text-align: center;\n}\n\n.update-vaccine-stock-container h2 {\n    color: var(--color-primary);\n    margin-bottom: 20px;\n    font-size: 2em;\n}\n\n.update-vaccine-stock-container p {\n    margin-bottom: 15px;\n    font-size: 1.1em;\n}\n\n.update-vaccine-stock-container p strong {\n    color: var(--color-secondary);\n}\n\n.update-stock-form {\n    display: flex;\n    flex-direction: column;\n    gap: 20px;\n    margin-top: 20px;\n}\n\n.form-group {\n    text-align: left;\n}\n\n.form-group label {\n    display: block;\n    margin-bottom: 8px;\n    font-weight: bold;\n    color: var(--color-text-primary);\n}\n\n.select-box {\n    width: 100%;\n    padding: 10px;\n    border: 1px solid var(--color-medium-gray);\n    border-radius: var(--border-radius-small);\n    font-size: var(--font-size-base);\n    box-sizing: border-box; /* Include padding and border in the element's total width and height */\n    background-color: var(--color-white);\n    color: var(--color-text-primary);\n    -webkit-appearance: none; /* Remove default browser styling for select */\n    -moz-appearance: none;\n    appearance: none;\n    background-image: url(${___CSS_LOADER_URL_REPLACEMENT_0___}); /* Custom arrow */\n    background-repeat: no-repeat;\n    background-position: right 10px top 50%;\n    background-size: 12px;\n}\n\n.select-box:focus {\n    border-color: var(--color-secondary);\n    outline: none;\n    box-shadow: 0 0 0 2px rgba(var(--color-secondary-rgb), 0.2);\n}\n\n.read-only-input input {\n    background-color: var(--color-light-gray);\n    cursor: not-allowed;\n}\n\n.form-error-message {\n    color: var(--color-error);\n    margin-top: 10px;\n    font-size: 0.9em;\n}\n\n.update-stock-form button {\n    margin-top: 20px;\n    padding: 12px 25px;\n    font-size: 1.1em;\n    border-radius: 8px;\n}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/pages/Hospital/VaccinesStock/VaccinesStockPage.css\"],\"names\":[],\"mappings\":\"AAAA,yCAAyC;AACzC;IACI,aAAa;IACb,gBAAgB;IAChB,iBAAiB;IACjB,yBAAyB;IACzB,mBAAmB;IACnB,yCAAyC;IACzC,kBAAkB;AACtB;;AAEA;IACI,2BAA2B;IAC3B,mBAAmB;IACnB,cAAc;AAClB;;AAEA;IACI,mBAAmB;IACnB,gBAAgB;AACpB;;AAEA;IACI,6BAA6B;AACjC;;AAEA;IACI,aAAa;IACb,sBAAsB;IACtB,SAAS;IACT,gBAAgB;AACpB;;AAEA;IACI,gBAAgB;AACpB;;AAEA;IACI,cAAc;IACd,kBAAkB;IAClB,iBAAiB;IACjB,gCAAgC;AACpC;;AAEA;IACI,WAAW;IACX,aAAa;IACb,0CAA0C;IAC1C,yCAAyC;IACzC,gCAAgC;IAChC,sBAAsB,EAAE,uEAAuE;IAC/F,oCAAoC;IACpC,gCAAgC;IAChC,wBAAwB,EAAE,8CAA8C;IACxE,qBAAqB;IACrB,gBAAgB;IAChB,yDAAkd,EAAE,iBAAiB;IACre,4BAA4B;IAC5B,uCAAuC;IACvC,qBAAqB;AACzB;;AAEA;IACI,oCAAoC;IACpC,aAAa;IACb,2DAA2D;AAC/D;;AAEA;IACI,yCAAyC;IACzC,mBAAmB;AACvB;;AAEA;IACI,yBAAyB;IACzB,gBAAgB;IAChB,gBAAgB;AACpB;;AAEA;IACI,gBAAgB;IAChB,kBAAkB;IAClB,gBAAgB;IAChB,kBAAkB;AACtB\",\"sourcesContent\":[\"/* src/pages/Hospital/VaccinesStock.css */\\n.update-vaccine-stock-container {\\n    padding: 30px;\\n    max-width: 600px;\\n    margin: 40px auto;\\n    background-color: #ffffff;\\n    border-radius: 10px;\\n    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);\\n    text-align: center;\\n}\\n\\n.update-vaccine-stock-container h2 {\\n    color: var(--color-primary);\\n    margin-bottom: 20px;\\n    font-size: 2em;\\n}\\n\\n.update-vaccine-stock-container p {\\n    margin-bottom: 15px;\\n    font-size: 1.1em;\\n}\\n\\n.update-vaccine-stock-container p strong {\\n    color: var(--color-secondary);\\n}\\n\\n.update-stock-form {\\n    display: flex;\\n    flex-direction: column;\\n    gap: 20px;\\n    margin-top: 20px;\\n}\\n\\n.form-group {\\n    text-align: left;\\n}\\n\\n.form-group label {\\n    display: block;\\n    margin-bottom: 8px;\\n    font-weight: bold;\\n    color: var(--color-text-primary);\\n}\\n\\n.select-box {\\n    width: 100%;\\n    padding: 10px;\\n    border: 1px solid var(--color-medium-gray);\\n    border-radius: var(--border-radius-small);\\n    font-size: var(--font-size-base);\\n    box-sizing: border-box; /* Include padding and border in the element's total width and height */\\n    background-color: var(--color-white);\\n    color: var(--color-text-primary);\\n    -webkit-appearance: none; /* Remove default browser styling for select */\\n    -moz-appearance: none;\\n    appearance: none;\\n    background-image: url('data:image/svg+xml;charset=US-ASCII,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%22292.4%22%20height%3D%22292.4%22%3E%3Cpath%20fill%3D%22%23000%22%20d%3D%22M287%2C197.3L159.9%2C69.8c-4.8-4.8-12.5-4.8-17.3%2C0L5.4%2C197.3c-4.8%2C4.8-4.8%2C12.5%2C0%2C17.3s12.5%2C4.8%2C17.3%2C0l130.8-130.8c4.8-4.8%2C12.5-4.8%2C17.3%2C0l130.8%2C130.8c4.8%2C4.8%2C12.5%2C4.8%2C17.3%2C0S291.8%2C202.1%2C287%2C197.3z%22%2F%3E%3C%2Fsvg%3E'); /* Custom arrow */\\n    background-repeat: no-repeat;\\n    background-position: right 10px top 50%;\\n    background-size: 12px;\\n}\\n\\n.select-box:focus {\\n    border-color: var(--color-secondary);\\n    outline: none;\\n    box-shadow: 0 0 0 2px rgba(var(--color-secondary-rgb), 0.2);\\n}\\n\\n.read-only-input input {\\n    background-color: var(--color-light-gray);\\n    cursor: not-allowed;\\n}\\n\\n.form-error-message {\\n    color: var(--color-error);\\n    margin-top: 10px;\\n    font-size: 0.9em;\\n}\\n\\n.update-stock-form button {\\n    margin-top: 20px;\\n    padding: 12px 25px;\\n    font-size: 1.1em;\\n    border-radius: 8px;\\n}\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n"],"names":["selectVaccineStockState","state","vaccineStock","selectCurrentStock","createSelector","stockState","currentStock","selectLoadingStock","loadingStock","selectErrorStock","errorStock","selectUpdateStockStatus","updateStatus","selectUpdateStockError","updateError","selectCreateStockStatus","createStatus","selectCreateStockError","createError","options","styleTagTransform","setAttributes","insert","domAPI","insertStyleElement","locals","_currentUser$hospital","_currentUser$hospital2","dispatch","useDispatch","currentUser","useSelector","selectCurrentUser","allVaccines","selectAllVaccines","_useState2","_slicedToArray","useState","selectedVaccineId","setSelectedVaccineId","_useState4","proposedStock","setProposedStock","_useState6","pageError","setPageError","hospitalId","hospital","_id","useEffect","userId","fetchUserProfile","fetchAllVaccines","fetchVaccineStock","vaccineId","clearCurrentStock","quantity","alert","clearStockStatus","displayCurrentQty","displayChangeQty","parseInt","isChangeQtyNegative","isSubmitting","React","className","name","onSubmit","e","preventDefault","parsedProposedStock","isNaN","currentQty","createVaccineStock","initialQuantity","changeQty","updateVaccineStock","htmlFor","id","value","onChange","target","required","map","vaccine","key","manufacturer","Input","label","type","readOnly","disabled","placeholder","min","concat","Button","variant","module","exports","url","String","__esModule","default","test","slice","hash","needQuotes","replace","selectVaccineState","vaccines","selectRegistrationStatus","vaccineState","registrationStatus","selectRegistrationError","registrationError","fetchStatus","fetchError","___CSS_LOADER_URL_IMPORT_0___","URL","___CSS_LOADER_EXPORT___","___CSS_LOADER_URL_REPLACEMENT_0___","push"],"sourceRoot":""}