"use strict";(self.webpackChunkvaccination_system_react=self.webpackChunkvaccination_system_react||[]).push([[252],{362:(e,r,n)=>{n.d(r,{_m:()=>i,eo:()=>o,k:()=>c});var t=n(5508),a=function(e){return e.hospitals},o=(0,t.Mz)(a,function(e){return e.hospitals}),i=(0,t.Mz)(a,function(e){return e.loading}),c=(0,t.Mz)(a,function(e){return e.error})},698:e=>{e.exports="data:image/svg+xml;charset=US-ASCII,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%22292.4%22%20height%3D%22292.4%22%3E%3Cpath%20fill%3D%22%23666666%22%20d%3D%22M287%2C197.3L159.2%2C69.5c-3.2-3.2-8.3-3.2-11.5%2C0L5.4%2C197.3c-3.2%2C3.2-3.2%2C8.3%2C0%2C11.5l11.5%2C11.5c3.2%2C3.2%2C8.3%2C3.2%2C11.5%2C0l120.3-120.3l120.3%2C120.3c3.2%2C3.2%2C8.3%2C3.2%2C11.5%2C0l11.5-11.5C290.2%2C205.6%2C290.2%2C200.5%2C287%2C197.3z%22%2F%3E%3C%2Fsvg%3E"},3252:(e,r,n)=>{n.r(r),n.d(r,{default:()=>D});var t=n(6540),a=n(1468),o=n(5788),i=n(8721),c=n(9694),s=n(8751),l=n(5179),d=n(7415),u=n(1446),A=n(362),m=n(6784),p=n(5905),C=n(5072),g=n.n(C),f=n(7825),b=n.n(f),v=n(7659),h=n.n(v),I=n(5056),y=n.n(I),E=n(540),w=n.n(E),_=n(1113),B=n.n(_),z=n(9093),x={};function k(e){return k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},k(e)}function O(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,t)}return n}function S(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?O(Object(n),!0).forEach(function(r){P(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function P(e,r,n){return(r=function(e){var r=function(e){if("object"!=k(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=k(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==k(r)?r:r+""}(r))in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function M(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var t,a,o,i,c=[],s=!0,l=!1;try{if(o=(n=n.call(e)).next,0===r){if(Object(n)!==n)return;s=!1}else for(;!(s=(t=o.call(n)).done)&&(c.push(t.value),c.length!==r);s=!0);}catch(e){l=!0,a=e}finally{try{if(!s&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(l)throw a}}return c}}(e,r)||function(e,r){if(e){if("string"==typeof e)return j(e,r);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?j(e,r):void 0}}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(e,r){(null==r||r>e.length)&&(r=e.length);for(var n=0,t=Array(r);n<r;n++)t[n]=e[n];return t}x.styleTagTransform=B(),x.setAttributes=y(),x.insert=h().bind(null,"head"),x.domAPI=b(),x.insertStyleElement=w(),g()(z.A,x),z.A&&z.A.locals&&z.A.locals;const D=function(){var e=(0,a.wA)(),r=(0,o.Zp)(),n=(0,a.d4)(p.xu),C=(0,a.d4)(A.eo),g=(0,a.d4)(A._m),f=(0,a.d4)(A.k),b=(0,a.d4)(m.Ub),v="loading"===(0,a.d4)(m.Pp),h=(0,a.d4)(m.RN),I=(0,a.d4)(d.bJ),y=(0,a.d4)(d.BN),E=M((0,t.useState)({hospitalId:"",vaccineId:"",dose_number:"",charge_to_be_paid:""}),2),w=E[0],_=E[1],B=M((0,t.useState)({}),2),z=B[0],x=B[1],k=M((0,t.useState)(!1),2),O=k[0],j=k[1],D=M((0,t.useState)({title:"",message:""}),2),F=D[0],N=D[1];(0,t.useEffect)(function(){e((0,u.W)()),e((0,m.CB)())},[e]),(0,t.useEffect)(function(){if(w.hospitalId&&w.vaccineId&&C.length>0&&b.length>0){var e=C.find(function(e){return e._id===w.hospitalId}),r=b.find(function(e){return e._id===w.vaccineId});if(e&&r){var n=(r.price||0)+(e.charges||0);_(function(e){return S(S({},e),{},{charge_to_be_paid:n.toFixed(2)})})}else _(function(e){return S(S({},e),{},{charge_to_be_paid:""})})}else _(function(e){return S(S({},e),{},{charge_to_be_paid:""})})},[w.hospitalId,w.vaccineId,C,b]),(0,t.useEffect)(function(){"succeeded"===I?(N({title:"Order Created!",message:"Your vaccination order has been successfully created. You can now review it in your dashboard."}),j(!0),_({hospitalId:"",vaccineId:"",dose_number:"",charge_to_be_paid:""}),e((0,l.ms)())):"failed"===I&&(N({title:"Order Creation Failed",message:y||"An unexpected error occurred. Please try again."}),j(!0),e((0,l.ms)()))},[I,y,e,r]);var V=function(e){var r=e.target,n=r.id,t=r.value;_(function(e){return S(S({},e),{},P({},n,t))}),z[n]&&x(function(e){return S(S({},e),{},P({},n,""))})},q=function(){j(!1),"succeeded"===I&&r("/patient/dashboard")};return t.createElement("div",{className:"create-order-page-container"},t.createElement("h2",null,"Create New Vaccination Order"),t.createElement("form",{onSubmit:function(r){if(r.preventDefault(),a={},w.hospitalId||(a.hospitalId="Hospital is required."),w.vaccineId||(a.vaccineId="Vaccine is required."),(!w.dose_number||!/^\d+$/.test(w.dose_number)||parseInt(w.dose_number)<=0)&&(a.dose_number="Dose number must be a positive integer."),(!w.charge_to_be_paid||isNaN(parseFloat(w.charge_to_be_paid))||parseFloat(w.charge_to_be_paid)<0)&&(a.charge_to_be_paid="Charge must be a non-negative number and is calculated automatically."),x(a),0===Object.keys(a).length){var t={userId:null==n?void 0:n._id,hospitalId:w.hospitalId,vaccineId:w.vaccineId,dose_number:Number(w.dose_number),charge_to_be_paid:Number(w.charge_to_be_paid)};e((0,l.Mi)(t))}var a},className:"order-form"},t.createElement("div",{className:"form-group"},t.createElement("label",{htmlFor:"hospitalId",className:"form-label"},"Select Hospital ",t.createElement("span",{className:"required-star"},"*")),g?t.createElement("p",null,"Loading hospitals..."):f?t.createElement("p",{className:"error-message"},"Error loading hospitals: ",f):t.createElement("select",{id:"hospitalId",value:w.hospitalId,onChange:V,className:"form-select ".concat(z.hospitalId?"input-field--error":""),required:!0},t.createElement("option",{value:""},"-- Select a Hospital --"),C.map(function(e){return t.createElement("option",{key:e._id,value:e._id},e.name)})),z.hospitalId&&t.createElement("p",{className:"input-error-message"},z.hospitalId)),t.createElement("div",{className:"form-group"},t.createElement("label",{htmlFor:"vaccineId",className:"form-label"},"Select Vaccine ",t.createElement("span",{className:"required-star"},"*")),v?t.createElement("p",null,"Loading vaccines..."):h?t.createElement("p",{className:"error-message"},"Error loading vaccines: ",h):t.createElement("select",{id:"vaccineId",value:w.vaccineId,onChange:V,className:"form-select ".concat(z.vaccineId?"input-field--error":""),required:!0},t.createElement("option",{value:""},"-- Select a Vaccine --"),b.map(function(e){return t.createElement("option",{key:e._id,value:e._id},e.name," (",e.type,")")})),z.vaccineId&&t.createElement("p",{className:"input-error-message"},z.vaccineId)),t.createElement(i.A,{label:"Dose Number",id:"dose_number",type:"number",value:w.dose_number,onChange:V,placeholder:"e.g., 1, 2, 3",required:!0,error:z.dose_number,min:"1"}),t.createElement(i.A,{label:"Charge to be Paid (e.g., 50.00)",id:"charge_to_be_paid",type:"number",value:w.charge_to_be_paid,readOnly:!0,placeholder:"Calculated automatically",required:!0,error:z.charge_to_be_paid,min:"0",step:"0.01"}),t.createElement(c.A,{type:"submit",variant:"primary",size:"large",disabled:"loading"===I||g||v},"loading"===I?"Creating Order...":"Create Vaccination Order")),t.createElement(s.A,{isOpen:O,onClose:q,title:F.title,footer:t.createElement(c.A,{onClick:q},"Close")},t.createElement("p",null,F.message)))}},4417:e=>{e.exports=function(e,r){return r||(r={}),e?(e=String(e.__esModule?e.default:e),/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),r.hash&&(e+=r.hash),/["'() \t\n]|(%20)/.test(e)||r.needQuotes?'"'.concat(e.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):e):e}},7415:(e,r,n)=>{n.d(r,{BN:()=>i,DK:()=>c,DY:()=>p,FE:()=>b,HB:()=>f,Nm:()=>C,bJ:()=>o,bY:()=>h,cz:()=>A,dp:()=>g,gU:()=>u,l0:()=>l,ly:()=>v,o:()=>d,v8:()=>s,yS:()=>m});var t=n(5508),a=function(e){return e.vaccinationOrder},o=(0,t.Mz)(a,function(e){return e.createStatus}),i=(0,t.Mz)(a,function(e){return e.createError}),c=(0,t.Mz)(a,function(e){return e.patientOrders}),s=(0,t.Mz)(a,function(e){return e.fetchPatientOrdersStatus}),l=(0,t.Mz)(a,function(e){return e.fetchPatientOrdersError}),d=(0,t.Mz)(a,function(e){return e.markVaccinatedStatus}),u=(0,t.Mz)(a,function(e){return e.markVaccinatedError}),A=(0,t.Mz)(a,function(e){return e.markPaidStatus}),m=(0,t.Mz)(a,function(e){return e.markPaidError}),p=(0,t.Mz)(a,function(e){return e.scheduleAppointmentStatus}),C=(0,t.Mz)(a,function(e){return e.scheduleAppointmentError}),g=(0,t.Mz)(a,function(e){return e.cancelOrderStatus}),f=(0,t.Mz)(a,function(e){return e.cancelOrderError}),b=(0,t.Mz)(a,function(e){return e.vaccinatedPersons}),v=(0,t.Mz)(a,function(e){return e.fetchVaccinatedPersonsStatus}),h=(0,t.Mz)(a,function(e){return e.fetchVaccinatedPersonsError})},9093:(e,r,n)=>{n.d(r,{A:()=>A});var t=n(1354),a=n.n(t),o=n(6314),i=n.n(o),c=n(4417),s=n.n(c),l=new URL(n(698),n.b),d=i()(a()),u=s()(l);d.push([e.id,`/* src/pages/Patient/CreateVaccinationOrder/CreatePatientVaccinationOrderPage.css */\n\n.create-order-page-container {\n    max-width: 600px;\n    margin: var(--spacing-xl) auto;\n    padding: var(--spacing-lg);\n    background-color: var(--color-white);\n    border-radius: var(--border-radius-medium);\n    box-shadow: var(--shadow-medium);\n    font-family: var(--font-family-primary), sans-serif; /* Added sans-serif as a generic fallback */\n    color: var(--color-text-primary);\n}\n\n.create-order-page-container h2 {\n    text-align: center;\n    color: var(--color-primary-dark);\n    margin-bottom: var(--spacing-xl);\n    font-size: var(--font-size-h3);\n}\n\n.order-form .form-group {\n    margin-bottom: var(--spacing-md);\n}\n\n.order-form .form-label {\n    display: block;\n    margin-bottom: var(--spacing-xs);\n    font-weight: bold;\n    color: var(--color-text-secondary);\n    font-size: var(--font-size-base);\n}\n\n.order-form .form-select {\n    width: 100%;\n    padding: var(--spacing-sm);\n    border: 1px solid var(--color-medium-gray);\n    border-radius: var(--border-radius-small);\n    font-size: var(--font-size-base);\n    box-sizing: border-box; /* Ensures padding doesn't increase total width */\n    -webkit-appearance: none; /* Remove default browser styling for selects */\n    -moz-appearance: none;\n    appearance: none;\n    background-color: var(--color-white);\n    background-image: url(${u}); /* Custom arrow */\n    background-repeat: no-repeat;\n    background-position: right 0.7em top 50%;\n    background-size: 0.65em auto;\n}\n\n.order-form .form-select:focus {\n    border-color: var(--color-secondary);\n    outline: none;\n    box-shadow: 0 0 0 2px rgba(var(--color-secondary-rgb), 0.2);\n}\n\n.order-form .input-field--error {\n    border-color: var(--color-error);\n}\n\n.order-form .input-error-message {\n    color: var(--color-error);\n    font-size: var(--font-size-small);\n    margin-top: var(--spacing-xxs);\n}\n\n.order-form .required-star {\n    color: var(--color-error);\n    margin-left: var(--spacing-xxs);\n}\n\n.order-form button[type="submit"] {\n    width: 100%;\n    padding: var(--spacing-md);\n    font-size: var(--font-size-large);\n    margin-top: var(--spacing-lg);\n}\n\n.error-message {\n    color: var(--color-error);\n    font-size: var(--font-size-small);\n    text-align: center;\n    margin-top: var(--spacing-md);\n}\n\n/* Modal specific styles for this page if needed, otherwise Modal.css handles it */\n/* Example: Adjust modal content width */\n.modal-content.create-order-modal {\n    max-width: 400px;\n}\n`,"",{version:3,sources:["webpack://./src/pages/Patient/CreateVaccinationOrder/CreatePatientVaccinationOrderPage.css"],names:[],mappings:"AAAA,mFAAmF;;AAEnF;IACI,gBAAgB;IAChB,8BAA8B;IAC9B,0BAA0B;IAC1B,oCAAoC;IACpC,0CAA0C;IAC1C,gCAAgC;IAChC,mDAAmD,EAAE,2CAA2C;IAChG,gCAAgC;AACpC;;AAEA;IACI,kBAAkB;IAClB,gCAAgC;IAChC,gCAAgC;IAChC,8BAA8B;AAClC;;AAEA;IACI,gCAAgC;AACpC;;AAEA;IACI,cAAc;IACd,gCAAgC;IAChC,iBAAiB;IACjB,kCAAkC;IAClC,gCAAgC;AACpC;;AAEA;IACI,WAAW;IACX,0BAA0B;IAC1B,0CAA0C;IAC1C,yCAAyC;IACzC,gCAAgC;IAChC,sBAAsB,EAAE,iDAAiD;IACzE,wBAAwB,EAAE,+CAA+C;IACzE,qBAAqB;IACrB,gBAAgB;IAChB,oCAAoC;IACpC,yDAAqe,EAAE,iBAAiB;IACxf,4BAA4B;IAC5B,wCAAwC;IACxC,4BAA4B;AAChC;;AAEA;IACI,oCAAoC;IACpC,aAAa;IACb,2DAA2D;AAC/D;;AAEA;IACI,gCAAgC;AACpC;;AAEA;IACI,yBAAyB;IACzB,iCAAiC;IACjC,8BAA8B;AAClC;;AAEA;IACI,yBAAyB;IACzB,+BAA+B;AACnC;;AAEA;IACI,WAAW;IACX,0BAA0B;IAC1B,iCAAiC;IACjC,6BAA6B;AACjC;;AAEA;IACI,yBAAyB;IACzB,iCAAiC;IACjC,kBAAkB;IAClB,6BAA6B;AACjC;;AAEA,kFAAkF;AAClF,wCAAwC;AACxC;IACI,gBAAgB;AACpB",sourcesContent:["/* src/pages/Patient/CreateVaccinationOrder/CreatePatientVaccinationOrderPage.css */\n\n.create-order-page-container {\n    max-width: 600px;\n    margin: var(--spacing-xl) auto;\n    padding: var(--spacing-lg);\n    background-color: var(--color-white);\n    border-radius: var(--border-radius-medium);\n    box-shadow: var(--shadow-medium);\n    font-family: var(--font-family-primary), sans-serif; /* Added sans-serif as a generic fallback */\n    color: var(--color-text-primary);\n}\n\n.create-order-page-container h2 {\n    text-align: center;\n    color: var(--color-primary-dark);\n    margin-bottom: var(--spacing-xl);\n    font-size: var(--font-size-h3);\n}\n\n.order-form .form-group {\n    margin-bottom: var(--spacing-md);\n}\n\n.order-form .form-label {\n    display: block;\n    margin-bottom: var(--spacing-xs);\n    font-weight: bold;\n    color: var(--color-text-secondary);\n    font-size: var(--font-size-base);\n}\n\n.order-form .form-select {\n    width: 100%;\n    padding: var(--spacing-sm);\n    border: 1px solid var(--color-medium-gray);\n    border-radius: var(--border-radius-small);\n    font-size: var(--font-size-base);\n    box-sizing: border-box; /* Ensures padding doesn't increase total width */\n    -webkit-appearance: none; /* Remove default browser styling for selects */\n    -moz-appearance: none;\n    appearance: none;\n    background-color: var(--color-white);\n    background-image: url('data:image/svg+xml;charset=US-ASCII,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%22292.4%22%20height%3D%22292.4%22%3E%3Cpath%20fill%3D%22%23666666%22%20d%3D%22M287%2C197.3L159.2%2C69.5c-3.2-3.2-8.3-3.2-11.5%2C0L5.4%2C197.3c-3.2%2C3.2-3.2%2C8.3%2C0%2C11.5l11.5%2C11.5c3.2%2C3.2%2C8.3%2C3.2%2C11.5%2C0l120.3-120.3l120.3%2C120.3c3.2%2C3.2%2C8.3%2C3.2%2C11.5%2C0l11.5-11.5C290.2%2C205.6%2C290.2%2C200.5%2C287%2C197.3z%22%2F%3E%3C%2Fsvg%3E'); /* Custom arrow */\n    background-repeat: no-repeat;\n    background-position: right 0.7em top 50%;\n    background-size: 0.65em auto;\n}\n\n.order-form .form-select:focus {\n    border-color: var(--color-secondary);\n    outline: none;\n    box-shadow: 0 0 0 2px rgba(var(--color-secondary-rgb), 0.2);\n}\n\n.order-form .input-field--error {\n    border-color: var(--color-error);\n}\n\n.order-form .input-error-message {\n    color: var(--color-error);\n    font-size: var(--font-size-small);\n    margin-top: var(--spacing-xxs);\n}\n\n.order-form .required-star {\n    color: var(--color-error);\n    margin-left: var(--spacing-xxs);\n}\n\n.order-form button[type=\"submit\"] {\n    width: 100%;\n    padding: var(--spacing-md);\n    font-size: var(--font-size-large);\n    margin-top: var(--spacing-lg);\n}\n\n.error-message {\n    color: var(--color-error);\n    font-size: var(--font-size-small);\n    text-align: center;\n    margin-top: var(--spacing-md);\n}\n\n/* Modal specific styles for this page if needed, otherwise Modal.css handles it */\n/* Example: Adjust modal content width */\n.modal-content.create-order-modal {\n    max-width: 400px;\n}\n"],sourceRoot:""}]);const A=d}}]);
//# sourceMappingURL=252.bundle.js.map